import 'package:dignite_dangjian_flutter_app/res/app_colors.dart';
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_html/flutter_html.dart';
import 'package:ran_flutter_core/ran_flutter_core.dart';

class NoticeDetailsPage extends StatefulWidget {
  const NoticeDetailsPage({Key key, this.id}) : super(key: key);

  final String id;

  @override
  NoticeDetailsPageState createState() => NoticeDetailsPageState();
}

class NoticeDetailsPageState extends State<NoticeDetailsPage> with AutomaticKeepAliveClientMixin {
  bool _isDividerGone = true;
  ScrollController _controller = new ScrollController();
  final controller = TextEditingController();
  int likeCount;
  bool isClientInstalled = false;
  bool isIOS = false;
  ScrollController mCommentScrollController = new ScrollController();


  // 不要忘记在这里释放掉Timer
  @override
  void dispose() {
    _controller?.dispose();
    super.dispose();
  }

  @override
  void initState() {
    print('已修改过');
    super.initState();
  }


  @override
  Widget build(BuildContext context) {
    super.build(context);
    return AnnotatedRegion<SystemUiOverlayStyle>(
        value: SystemUiOverlayStyle.dark,
        child: Scaffold(
            backgroundColor: Colors.white,
            appBar: AppBar(
                title: Text(
                  "通知",
                  style: TextStyle(color: Colors.white, fontSize: 18),
                ),
//          centerTitle: true,
                backgroundColor: APPColors.app_main,
                iconTheme: IconThemeData(color: Colors.white)),
            body: SafeArea(
              child: Stack(
                alignment: Alignment.topLeft,
                children: <Widget>[
                  SingleChildScrollView(
                    controller: _controller,
                    scrollDirection: Axis.vertical,
                    child: Container(
                      constraints: BoxConstraints(
                        minHeight:
                        MediaQuery.of(context).size.height * 0.9,
                      ),
                      child: Column(
                        crossAxisAlignment: CrossAxisAlignment.start,
                        children: <Widget>[
                          Container(
                            height: 10,
                          ),
                          Padding(
                              padding: EdgeInsets.fromLTRB(15, 0, 15, 0),
                              child: Text(
                                "2021年党建思政工作专题会议",
                                style: TextStyle(
                                  fontSize: 24,
                                  fontWeight: FontWeight.bold,
                                ),
                              )),
                          Padding(
                            padding: EdgeInsets.fromLTRB(15, 10, 15, 10),
                            child: Row(
                              mainAxisAlignment:
                              MainAxisAlignment.spaceBetween,
                              children: <Widget>[
                                Container(
                                  child: Text(
                                    '通知',
                                    style: TextStyle(
                                        fontSize: 14, color: Colors.grey),
                                    textAlign: TextAlign.left,
                                  ),
                                ),
                                Container(
                                  child: Text(
                                      Utils.apiDayFormat(DateTime.parse(
                                          "2021-06-26")),
                                      style: TextStyle(
                                          fontSize: 12,
                                          color: Colors.grey),
                                      textAlign: TextAlign.left),
                                ),
                              ],
                            ),
                          ),
                          Html(
                            data:
                            '<p><strong>&#26446;&#20811;&#24378;&#20027;&#25345;&#21484;&#24320;&#37096;&#20998;&#30465;&#24066;&#32463;&#27982;&#24418;&#21183;&#35270;&#39057;&#24231;&#35848;&#20250;&#26102;&#24378;&#35843;</strong></p> <p><strong>&#30452;&#38754;&#22256;&#38590;&#25361;&#25112; &#22362;&#23450;&#21457;&#23637;&#20449;&#24515; &#31283;&#20303;&#32463;&#27982;&#22522;&#26412;&#30424; &#21147;&#20445;&#22522;&#26412;&#27665;&#29983;</strong></p><p><strong>&#38889;&#27491;&#20986;&#24109;</strong> </p></p><p>&#26032;&#21326;&#31038;&#21271;&#20140;4&#26376;24&#26085;&#30005; 4&#26376;23&#26085;&#65292;&#20013;&#20849;&#20013;&#22830;&#25919;&#27835;&#23616;&#24120;&#22996;&#12289;&#22269;&#21153;&#38498;&#24635;&#29702;&#26446;&#20811;&#24378;&#20027;&#25345;&#21484;&#24320;&#37096;&#20998;&#30465;&#24066;&#32463;&#27982;&#24418;&#21183;&#35270;&#39057;&#24231;&#35848;&#20250;&#65292;&#25512;&#21160;&#20570;&#22909;&#24403;&#21069;&#32463;&#27982;&#31038;&#20250;&#21457;&#23637;&#24037;&#20316;&#12290;</p> <p>&#20013;&#20849;&#20013;&#22830;&#25919;&#27835;&#23616;&#24120;&#22996;&#12289;&#22269;&#21153;&#38498;&#21103;&#24635;&#29702;&#38889;&#27491;&#20986;&#24109;&#12290; </p></p> <p>&#24231;&#35848;&#20250;&#19978;&#65292;&#21513;&#26519;&#30465;&#38271;&#26223;&#20426;&#28023;&#12289;&#19978;&#28023;&#20195;&#24066;&#38271;&#40858;&#27491;&#12289;&#27743;&#33487;&#30465;&#38271;&#21556;&#25919;&#38534;&#12289;&#27827;&#21335;&#30465;&#38271;&#23609;&#24344;&#12289;&#24191;&#19996;&#30465;&#38271;&#39532;&#20852;&#29790;&#12289;&#22235;&#24029;&#30465;&#38271;&#23609;&#21147;&#27719;&#25253;&#20102;&#26412;&#22320;&#32463;&#27982;&#36816;&#34892;&#24773;&#20917;&#21644;&#19979;&#27493;&#25171;&#31639;&#12290;&#26446;&#20811;&#24378;&#35828;&#65292;&#38754;&#23545;&#31361;&#22914;&#20854;&#26469;&#30340;&#30123;&#24773;&#65292;&#22312;&#20197;&#20064;&#36817;&#24179;&#21516;&#24535;&#20026;&#26680;&#24515;&#30340;&#20826;&#20013;&#22830;&#22362;&#24378;&#39046;&#23548;&#19979;&#65292;&#32463;&#36807;&#20840;&#22269;&#19978;&#19979;&#33392;&#33510;&#21162;&#21147;&#65292;&#22659;&#20869;&#30123;&#24773;&#38450;&#25511;&#21462;&#24471;&#38454;&#27573;&#24615;&#37325;&#35201;&#25104;&#25928;&#65292;&#32463;&#27982;&#31038;&#20250;&#31209;&#24207;&#21152;&#24555;&#24674;&#22797;&#65292;&#36825;&#26469;&#20043;&#19981;&#26131;&#12289;&#25104;&#20043;&#24799;&#33392;&#12290;&#30446;&#21069;&#30123;&#24773;&#20173;&#22788;&#20110;&#20840;&#29699;&#22823;&#27969;&#34892;&#38454;&#27573;&#65292;&#22269;&#20869;&#22806;&#32463;&#27982;&#24418;&#21183;&#24322;&#24120;&#22797;&#26434;&#20005;&#23803;&#65292;&#35201;&#23454;&#20107;&#27714;&#26159;&#12289;&#31185;&#23398;&#30740;&#21028;&#32463;&#27982;&#36208;&#21183;&#65292;&#26082;&#20805;&#20998;&#20272;&#35745;&#22256;&#38590;&#65292;&#30452;&#38754;&#24212;&#23545;&#25361;&#25112;&#65292;&#21448;&#22362;&#23450;&#21457;&#23637;&#20449;&#24515;&#65292;&#22686;&#24378;&#21457;&#23637;&#21160;&#21147;&#12290;&#35201;&#22362;&#25345;&#20197;&#20064;&#36817;&#24179;&#26032;&#26102;&#20195;&#20013;&#22269;&#29305;&#33394;&#31038;&#20250;&#20027;&#20041;&#24605;&#24819;&#20026;&#25351;&#23548;&#65292;&#36143;&#24443;&#33853;&#23454;&#20826;&#20013;&#22830;&#12289;&#22269;&#21153;&#38498;&#20915;&#31574;&#37096;&#32626;&#65292;&#22312;&#30123;&#24773;&#38450;&#25511;&#24120;&#24577;&#21270;&#21069;&#25552;&#19979;&#65292;&#22362;&#25345;&#31283;&#20013;&#27714;&#36827;&#24037;&#20316;&#24635;&#22522;&#35843;&#65292;&#22362;&#25345;&#26032;&#21457;&#23637;&#29702;&#24565;&#65292;&#25226;&#25569;&#22909;&#21152;&#22823;&#23439;&#35266;&#25919;&#31574;&#35843;&#33410;&#30340;&#21147;&#24230;&#21644;&#26102;&#26426;&#65292;&#20570;&#22909;&ldquo;&#20845;&#31283;&rdquo;&#24037;&#20316;&#65292;&#30528;&#21147;&#20445;&#23621;&#27665;&#23601;&#19994;&#12289;&#20445;&#22522;&#26412;&#27665;&#29983;&#12289;&#20445;&#24066;&#22330;&#20027;&#20307;&#12289;&#20445;&#31918;&#39135;&#33021;&#28304;&#23433;&#20840;&#12289;&#20445;&#20135;&#19994;&#38142;&#20379;&#24212;&#38142;&#31283;&#23450;&#12289;&#20445;&#22522;&#23618;&#36816;&#36716;&#65292;&#31283;&#20303;&#32463;&#27982;&#22522;&#26412;&#30424;&#65292;&#20419;&#36827;&#32463;&#27982;&#24674;&#22797;&#22686;&#38271;&#65292;&#25512;&#21160;&#39640;&#36136;&#37327;&#21457;&#23637;&#12290;</p> <p>&#22823;&#23478;&#35848;&#21040;&#65292;&#30446;&#21069;&#20225;&#19994;&#29983;&#20135;&#32463;&#33829;&#22256;&#38590;&#22686;&#21152;&#65292;&#20173;&#26377;&#19981;&#23569;&#23567;&#24494;&#20225;&#19994;&#23578;&#26410;&#22797;&#24037;&#65292;&#31283;&#23601;&#19994;&#20219;&#21153;&#33392;&#24040;&#12290;&#26446;&#20811;&#24378;&#35828;&#65292;&#20445;&#20303;&#20159;&#19975;&#24066;&#22330;&#20027;&#20307;&#65292;&#32463;&#27982;&#22238;&#21319;&#23601;&#26377;&#21160;&#21147;&#65292;&#23601;&#19994;&#23601;&#26377;&#25903;&#25745;&#12290;&#35201;&#33853;&#23454;&#21644;&#21450;&#26102;&#23436;&#21892;&#31246;&#36153;&#20943;&#20813;&#12289;&#37329;&#34701;&#25903;&#25345;&#12289;&#38477;&#20302;&#25104;&#26412;&#31561;&#21161;&#20225;&#32446;&#22256;&#25919;&#31574;&#65292;&#21508;&#22320;&#20063;&#35201;&#21152;&#22823;&#25903;&#25345;&#21147;&#24230;&#65292;&#24110;&#21161;&#20225;&#19994;&#29305;&#21035;&#26159;&#20013;&#23567;&#24494;&#20225;&#19994;&#21644;&#20010;&#20307;&#24037;&#21830;&#25143;&#28193;&#36807;&#38590;&#20851;&#65292;&#21152;&#24555;&#20840;&#38754;&#22797;&#24037;&#22797;&#20135;&#65292;&#20445;&#20303;&#26356;&#22810;&#23601;&#19994;&#23703;&#20301;&#65292;&#20026;&#39640;&#26657;&#27605;&#19994;&#29983;&#12289;&#20892;&#27665;&#24037;&#12289;&#36864;&#24441;&#20891;&#20154;&#31561;&#37325;&#28857;&#32676;&#20307;&#23601;&#19994;&#25552;&#20379;&#25903;&#25745;&#12290;</p> <p>&#26446;&#20811;&#24378;&#35814;&#32454;&#35810;&#38382;&#29983;&#27963;&#26381;&#21153;&#19994;&#22797;&#19994;&#21644;&#37325;&#28857;&#24037;&#31243;&#24314;&#35774;&#24773;&#20917;&#12290;&#20182;&#35828;&#65292;&#35201;&#22362;&#23450;&#23454;&#26045;&#25193;&#22823;&#20869;&#38656;&#25112;&#30053;&#12290;&#22810;&#25514;&#24182;&#20030;&#20419;&#36827;&#28040;&#36153;&#22238;&#21319;&#65292;&#25512;&#21160;&#32447;&#19978;&#28040;&#36153;&#26356;&#22823;&#21457;&#23637;&#12290;&#25193;&#22823;&#26377;&#25928;&#25237;&#36164;&#65292;&#29992;&#22909;&#22320;&#26041;&#25919;&#24220;&#19987;&#39033;&#20538;&#31561;&#25919;&#31574;&#65292;&#24102;&#21160;&#31038;&#20250;&#25237;&#36164;&#65292;&#21152;&#24555;&#34917;&#30701;&#26495;&#24800;&#27665;&#29983;&#22686;&#21518;&#21170;&#39033;&#30446;&#24314;&#35774;&#12290;&#21508;&#22320;&#35201;&#20570;&#22909;&#39033;&#30446;&#21069;&#26399;&#24037;&#20316;&#65292;&#33021;&#24320;&#24037;&#30340;&#23613;&#24555;&#24320;&#24037;&#12290;</p> <p>&#22320;&#26041;&#21453;&#26144;&#65292;&#25239;&#30123;&#26399;&#38388;&#26032;&#21160;&#33021;&#21152;&#24555;&#25104;&#38271;&#65292;&#26174;&#31034;&#20986;&#32463;&#27982;&#30340;&#38887;&#24615;&#12290;&#26446;&#20811;&#24378;&#35828;&#65292;&#24212;&#23545;&#30123;&#24773;&#24433;&#21709;&#12289;&#20419;&#36827;&#32463;&#27982;&#21457;&#23637;&#38656;&#35201;&#37319;&#21462;&#29305;&#27530;&#25514;&#26045;&#65292;&#26356;&#35201;&#22362;&#25345;&#25913;&#38761;&#24320;&#25918;&#65292;&#21152;&#24555;&#36716;&#21464;&#32463;&#27982;&#21457;&#23637;&#26041;&#24335;&#12290;&#38024;&#23545;&#20225;&#19994;&#26399;&#30460;&#65292;&#22312;&#28145;&#21270;&ldquo;&#25918;&#31649;&#26381;&rdquo;&#25913;&#38761;&#12289;&#20248;&#21270;&#33829;&#21830;&#29615;&#22659;&#19978;&#25512;&#20986;&#26356;&#22810;&#28608;&#21457;&#24066;&#22330;&#27963;&#21147;&#30340;&#26032;&#25307;&#23454;&#25307;&#65292;&#31215;&#26497;&#21457;&#23637;&#20808;&#36827;&#21046;&#36896;&#19994;&#21644;&#26032;&#20852;&#20135;&#19994;&#65292;&#26356;&#22823;&#21147;&#24230;&#25903;&#25345;&#22823;&#20247;&#21019;&#19994;&#19975;&#20247;&#21019;&#26032;&#65292;&#22521;&#32946;&#22766;&#22823;&#26032;&#21160;&#33021;&#12290;&#36827;&#19968;&#27493;&#25193;&#22823;&#23545;&#22806;&#24320;&#25918;&#65292;&#22312;&#28145;&#21270;&#22269;&#38469;&#21512;&#20316;&#20013;&#31283;&#20303;&#20135;&#19994;&#38142;&#20379;&#24212;&#38142;&#12290; &#26446;&#20811;&#24378;&#21313;&#20998;&#20851;&#24515;&#22522;&#26412;&#27665;&#29983;&#20445;&#38556;&#12290;&#20182;&#35828;&#65292;&#32463;&#27982;&#24418;&#21183;&#19981;&#22909;&#30340;&#26102;&#20505;&#65292;&#26368;&#23481;&#26131;&#21463;&#20914;&#20987;&#30340;&#23601;&#26159;&#22256;&#38590;&#32676;&#20307;&#12290;&#19981;&#31649;&#36130;&#21147;&#22810;&#20040;&#21507;&#32039;&#65292;&#37117;&#35201;&#20445;&#38556;&#22909;&#20182;&#20204;&#30340;&#22522;&#26412;&#29983;&#27963;&#12290;&#35201;&#22686;&#21152;&#23545;&#22522;&#23618;&#36716;&#31227;&#25903;&#20184;&#65292;&#30830;&#20445;&#23436;&#25104;&#20915;&#25112;&#20915;&#32988;&#33073;&#36139;&#25915;&#22362;&#30446;&#26631;&#20219;&#21153;&#65292;&#22823;&#24133;&#25193;&#22260;&#22833;&#19994;&#20445;&#38556;&#65292;&#23454;&#29616;&#20302;&#20445;&#21644;&#31038;&#20250;&#25937;&#21161;&#24212;&#20445;&#23613;&#20445;&#65292;&#29992;&#22909;&#20215;&#26684;&#20020;&#26102;&#34917;&#36148;&#26426;&#21046;&#65292;&#21147;&#20445;&#22522;&#26412;&#27665;&#29983;&#12290;</p> <p>&#29579;&#21191;&#12289;&#29579;&#27589;&#12289;&#32918;&#25463;&#12289;&#36213;&#20811;&#24535;&#21442;&#21152;&#12290;</p>',
                            onImageTap: (src) {
                              // Display the image in large form.
                              Navigator.of(context).push(
                                  MaterialPageRoute(
                                      builder: (context) =>
                                      new PhotoViewSimpleScreen(
                                        imageProvider:
                                        NetworkImage(src),
                                        heroTag: 'simple',
                                      )));
                            },
                          ),
                        ],
                      ),
                    ),
                  ),
                ],
              ),
            )));
  }

  @override
  bool get wantKeepAlive => true;
}
